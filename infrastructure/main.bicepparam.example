using './main.bicep'

param baseName = 'storj-uploader'
param location = 'japaneast'

// Container images - これらは Azure Container Registry (ACR) のイメージパスに置き換えてください
// 例: 'myregistry.azurecr.io/storj-backend:latest'
param backendContainerImage = '<your-acr-name>.azurecr.io/storj-backend:latest'
param frontendContainerImage = '<your-acr-name>.azurecr.io/storj-frontend:latest'
param storjContainerImage = '<your-acr-name>.azurecr.io/storj-uploader:latest'

// ACR 認証情報 (パブリックイメージの場合は空のままでOK)
param containerRegistryServer = '<your-acr-name>.azurecr.io'
param containerRegistryUsername = '<acr-username>'
@secure()
param containerRegistryPassword = '<acr-password>'

// Managed Identity を使う場合は true にし、上記レジストリ資格情報は空でOK
param enableManagedIdentity = false

// Storj設定
param storjBucketName = 'your-storj-bucket-name'
param storjRemoteName = 'storj'

// rclone.conf の内容をここに貼り付けてください
// 本番環境では Azure Key Vault の使用を推奨します
param rcloneConfig = '''
[storj]
type = storj
access_grant = your-storj-access-grant-here
'''

// オプション設定
param maxFileSize = 100000000  // 100MB
param hashLength = 10
param maxWorkers = 8
